import{C as _t}from"./BOI2iD6Q.js";import{_ as mt}from"./fk7Usl9a.js";import{m as tt,p as l,o as n,z as v,w as o,b as e,a as r,t as p,c as i,y as f,F as y,s as h,d as _,_ as et,r as g,A as C,u,q as Y,C as V}from"./DJ5yU9s-.js";import{u as pt}from"./DofwvAyD.js";import{a as Z,d as vt,m as ft}from"./3VsuDZ3B.js";const gt={class:"mapTop"},yt={class:"mapTitle"},ht={key:0,class:"mapDesc"},kt={key:1,class:"mapNote"},wt={key:2,class:"mapTags"},Ct=tt({__name:"MapCard",props:{title:{},desc:{},note:{},cover:{},tags:{},to:{}},setup(ot){return(d,q)=>{const b=l("v-img"),$=l("v-icon"),L=l("v-chip"),x=l("v-card-text"),S=l("v-card");return n(),v(S,{class:"mapCard",rounded:"xl",variant:"flat",to:d.to},{default:o(()=>[e(b,{src:d.cover,height:"240",cover:"",class:"mapImg"},null,8,["src"]),e(x,{class:"mapBody"},{default:o(()=>{var T;return[r("div",gt,[r("div",yt,p(d.title),1),e($,{icon:"mdi-arrow-top-right",class:"mapArrow"})]),d.desc?(n(),i("div",ht,p(d.desc),1)):f("",!0),d.note?(n(),i("div",kt,p(d.note),1)):f("",!0),(T=d.tags)!=null&&T.length?(n(),i("div",wt,[(n(!0),i(y,null,h(d.tags,A=>(n(),v(L,{key:A,size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:o(()=>[_(p(A),1)]),_:2},1024))),128))])):f("",!0)]}),_:1})]),_:1},8,["to"])}}}),bt=et(Ct,[["__scopeId","data-v-d9c1988d"]]),$t={class:"mapsPage"},Lt={class:"section sectionTight"},xt={class:"searchBar"},Tt={class:"section sectionTight"},At={class:"cardWrap"},Bt={class:"section sectionAlt"},Dt={class:"dlTitle"},Mt={class:"dlDesc"},Vt={key:0,class:"dlTags"},qt={class:"dlBtnRow"},St=["innerHTML"],zt={key:1,class:"detailBlock"},Ht={key:2,class:"detailBlock"},Nt={key:3,class:"detailBlock"},jt={key:4,class:"detailBlock"},P="地圖作品｜夢想之都工作室 DreamCity Studio",W="精選夢想之都代表性作品：島國勇者、童言無忌、騎士征途。",O="https://www.dreamcity.studio/images/bg/4.jpg",Ft=tt({__name:"index",setup(ot){pt({title:P,meta:[{name:"description",content:W},{property:"og:title",content:P},{property:"og:description",content:W},{property:"og:image",content:O},{property:"og:url",content:"https://www.dreamcity.studio/map"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:P},{name:"twitter:description",content:W},{name:"twitter:image",content:O}]});const d=g(""),q=g("ALL");function b(a){return a.replace(/^\.\//,"").replace(/\/$/,"")}function $(a){const t=Z.find(c=>c.title===a);if(t)return`/map/${b(t.src)}`}function L(a,t){const c=t.trim();return c?a.toLowerCase().includes(c.toLowerCase()):!0}const x=C(()=>Z.map(a=>({slug:b(a.src),title:a.title,desc:a.des,note:a.note,tags:a.tag,cover:a.img}))),S=C(()=>new Set(x.value.map(a=>a.slug))),T=C(()=>vt),A=C(()=>{if(q.value==="所有作品")return[];const a=d.value.trim();return x.value.filter(t=>{const c=`${t.title} ${t.desc} ${(t.tags||[]).join(" ")}`;return L(c,a)})}),st=C(()=>{if(q.value==="精選")return[];const a=d.value.trim();return T.value.filter(t=>{const c=$(t.name);if(!c)return!0;const I=String(c).replace(/^\/map\//,"");return!S.value.has(I)}).filter(t=>{const c=`${t.name} ${t.des} ${(t.tag||[]).join(" ")}`;return L(c,a)})}),k=g(!1),nt=g(""),z=g([]),H=g(""),N=g([]),j=g([]),F=g([]);function G(a){var c;nt.value=`了解更多｜${a}`;const t=(c=ft)==null?void 0:c[a];z.value=Array.isArray(t==null?void 0:t.author)?t.author:[],H.value=typeof(t==null?void 0:t.author_html)=="string"?t.author_html:"",N.value=Array.isArray(t==null?void 0:t.visual)?t.visual:[],j.value=Array.isArray(t==null?void 0:t.audio)?t.audio:[],F.value=Array.isArray(t==null?void 0:t.warning)?t.warning:[],k.value=!0}return(a,t)=>{const c=_t,I=l("v-text-field"),U=l("v-container"),w=l("v-btn"),J=l("v-col"),K=l("v-row"),at=l("v-img"),lt=l("v-chip"),Q=l("v-card-text"),X=l("v-card"),rt=mt,it=l("v-alert"),B=l("v-list-item-title"),D=l("v-list-item"),M=l("v-list"),R=l("v-divider"),ct=l("v-spacer"),dt=l("v-card-actions"),ut=l("v-dialog");return n(),i("div",$t,[e(c,{kicker:"Map",title:"Minecraft 地圖作品",sub:"我們把玩法、敘事、視覺與機制，做成玩家可以直接進去體驗的世界。",meta:["Minecraft","Map","Adventure","Multiplayer"]}),r("section",Lt,[e(U,{class:"wrap"},{default:o(()=>[r("div",xt,[e(I,{modelValue:u(d),"onUpdate:modelValue":t[0]||(t[0]=s=>Y(d)?d.value=s:null),label:"搜尋地圖名稱 / 標籤",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-magnify","hide-details":""},null,8,["modelValue"])])]),_:1})]),r("section",Tt,[e(U,{class:"wrap"},{default:o(()=>[t[5]||(t[5]=r("div",{class:"head"},[r("h2",{class:"h2"},"精選地圖")],-1)),e(K,{dense:""},{default:o(()=>[(n(!0),i(y,null,h(u(A),s=>(n(),v(J,{cols:"12",md:"6",key:s.slug},{default:o(()=>[r("div",At,[e(bt,{title:s.title,desc:s.desc,note:s.note,cover:s.cover,tags:s.tags,to:`/map/${s.slug}`},null,8,["title","desc","note","cover","tags","to"]),e(w,{class:"authorBtn",icon:"mdi-account-multiple",size:"small",variant:"tonal",color:"white",onClick:V(m=>G(s.title),["stop","prevent"])},null,8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1})]),r("section",Bt,[e(U,{class:"wrap"},{default:o(()=>[t[11]||(t[11]=r("div",{class:"head"},[r("h2",{class:"h2"},"更多地圖作品")],-1)),e(K,{dense:""},{default:o(()=>[(n(!0),i(y,null,h(u(st),s=>(n(),v(J,{cols:"12",md:"4",key:s.name},{default:o(()=>[e(X,{class:"dlCard",rounded:"xl",variant:"flat",to:$(s.name)},{default:o(()=>[e(at,{src:s.img,height:"200",cover:""},null,8,["src"]),e(Q,{class:"dlBody"},{default:o(()=>{var m;return[r("div",Dt,p(s.name),1),r("div",Mt,p(s.des),1),(m=s.tag)!=null&&m.length?(n(),i("div",Vt,[(n(!0),i(y,null,h(s.tag,E=>(n(),v(lt,{key:E,size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:o(()=>[_(p(E),1)]),_:2},1024))),128))])):f("",!0),r("div",qt,[e(w,{color:"primary",variant:"tonal",rounded:"xl",size:"small",href:s.map_src,target:"_blank",rel:"noopener","prepend-icon":"mdi-download",onClick:t[1]||(t[1]=V(()=>{},["stop"]))},{default:o(()=>t[6]||(t[6]=[_(" 地圖 ")])),_:2},1032,["href"]),s.res_src?(n(),v(w,{key:0,color:"primary",variant:"tonal",rounded:"xl",size:"small",href:s.res_src,target:"_blank",rel:"noopener","prepend-icon":"mdi-palette",onClick:t[2]||(t[2]=V(()=>{},["stop"]))},{default:o(()=>t[7]||(t[7]=[_(" 材質包 ")])),_:2},1032,["href"])):f("",!0),e(w,{color:"primary",variant:"tonal",rounded:"xl",size:"small","prepend-icon":"mdi-information-outline",onClick:V(E=>G(s.name),["stop","prevent"])},{default:o(()=>t[8]||(t[8]=[_(" 了解更多 ")])),_:2},1032,["onClick"])])]}),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),e(it,{type:"info",variant:"tonal",rounded:"xl",class:"mb-6"},{default:o(()=>[t[10]||(t[10]=_(" 下載與遊玩前，請先閱讀 ")),e(rt,{to:"/map/guide",class:"link"},{default:o(()=>t[9]||(t[9]=[_(" 地圖版權聲明與安裝教學 ")])),_:1})]),_:1})]),_:1})]),e(ut,{modelValue:u(k),"onUpdate:modelValue":t[4]||(t[4]=s=>Y(k)?k.value=s:null),"max-width":"720"},{default:o(()=>[e(X,{rounded:"xl",variant:"flat",class:"authorDialogCard"},{default:o(()=>[e(Q,{class:"authorDialogBody"},{default:o(()=>[u(H)?(n(),i("div",{key:0,class:"authorHtml",innerHTML:u(H)},null,8,St)):f("",!0),u(z).length?(n(),i("div",zt,[t[12]||(t[12]=r("div",{class:"detailTitle"},"作者名單",-1)),e(M,{density:"comfortable",class:"detailList"},{default:o(()=>[(n(!0),i(y,null,h(u(z),(s,m)=>(n(),v(D,{key:"a"+m},{default:o(()=>[e(B,null,{default:o(()=>[_(p(s),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):f("",!0),u(N).length?(n(),i("div",Ht,[e(R,{class:"my-4"}),t[13]||(t[13]=r("div",{class:"detailTitle"},"顯示設定",-1)),e(M,{density:"comfortable",class:"detailList"},{default:o(()=>[(n(!0),i(y,null,h(u(N),(s,m)=>(n(),v(D,{key:"v"+m},{default:o(()=>[e(B,null,{default:o(()=>[_(p(s),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):f("",!0),u(j).length?(n(),i("div",Nt,[e(R,{class:"my-4"}),t[14]||(t[14]=r("div",{class:"detailTitle"},"音效設定",-1)),e(M,{density:"comfortable",class:"detailList"},{default:o(()=>[(n(!0),i(y,null,h(u(j),(s,m)=>(n(),v(D,{key:"au"+m},{default:o(()=>[e(B,null,{default:o(()=>[_(p(s),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):f("",!0),u(F).length?(n(),i("div",jt,[e(R,{class:"my-4"}),t[15]||(t[15]=r("div",{class:"detailTitle"},"注意事項",-1)),e(M,{density:"comfortable",class:"detailList"},{default:o(()=>[(n(!0),i(y,null,h(u(F),(s,m)=>(n(),v(D,{key:"w"+m},{default:o(()=>[e(B,null,{default:o(()=>[_(p(s),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):f("",!0)]),_:1}),e(dt,{class:"authorDialogActions"},{default:o(()=>[e(ct),e(w,{variant:"tonal",rounded:"xl",onClick:t[3]||(t[3]=s=>k.value=!1)},{default:o(()=>t[16]||(t[16]=[_("關閉")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Wt=et(Ft,[["__scopeId","data-v-3b671251"]]);export{Wt as default};
