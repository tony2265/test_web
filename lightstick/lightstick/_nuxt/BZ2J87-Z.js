import{_ as h,r as u,K as m,o as p,L as _,t as c,x as f,z as g,A as k,T as w,v as l,M as y,N as x,O as I,P as b}from"./D22FGxoI.js";const D=window.setInterval,M={class:"shake-device-container"},N=200,A={__name:"index",setup(E){const o=u({}),r=m({}),i=u(null),v=a=>{if(r[a])return r[a];const n=Math.floor(Math.random()*80)+10,s=Math.floor(Math.random()*15)+5,t={position:"absolute",left:`${n}vw`,bottom:`${s}vh`,transform:"translate(-50%, -50%)"};return r[a]=t,t};async function d(){try{const n=await(await fetch("https://interactify.corn323.com/tilt-data")).json(),s={},t=new Set;if(Array.isArray(n))for(const e of n)e.deviceId&&(e.tiltValue===-1||e.tiltValue===1)&&(s[e.deviceId]=e.tiltValue,t.add(e.deviceId));else console.warn("API 回傳資料格式非預期，預期為陣列:",n);for(const e in o.value)t.has(e)||(delete o.value[e],delete r[e]);Object.assign(o.value,s)}catch(a){console.error("Error fetching shake data:",a)}}return p(()=>{d(),i.value=D(d,N)}),_(()=>{i.value&&clearInterval(i.value)}),(a,n)=>(l(),c("div",null,[f("div",M,[g(w,{name:"fade-shake",tag:"div"},{default:k(()=>[(l(!0),c(y,null,x(o.value,(s,t)=>(l(),c("div",{key:t,class:"device-shake-item",style:I(v(t))},[f("img",{src:"http://img.dreamcity.studio/vtuber/0509.png",class:b(["light-stick",{"shake-left":Number(s)<0,"shake-right":Number(s)>0}]),alt:"Light Stick"},null,2)],4))),128))]),_:1})])]))}},B=h(A,[["__scopeId","data-v-5ab88d96"]]);export{B as default};
