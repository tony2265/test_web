(function(){"use strict";var t={338:function(t,s,n){var o=n(144),r=n(726),e=n(381),a=n(828),i=n(816),l=n(255),d=n(24),c=n(643),u=n(88),h=n(102),p=n(894),f=n(741),_=n(536),m=n(756),b=n(600),v=n(731),y=n(70),x=function(){var t=this,s=t._self._c;return s(r.Z,[[[s(b.Z,{attrs:{centered:"","icons-and-text":"",dark:"","background-color":"indigo darken-4"},model:{value:t.tabs,callback:function(s){t.tabs=s},expression:"tabs"}},[s(v.Z),s(m.Z,[t._v(" 成智語典"),s(u.Z,[t._v("mdi-school")])],1),s(m.Z,[t._v(" 歷史紀錄"),s(u.Z,[t._v("mdi-clipboard-text-clock")])],1),s(m.Z,[t._v(" 成就統計"),s(u.Z,[t._v("mdi-star-box-multiple")])],1)],1)],0==t.tabs?s(h.Z,[s(p.Z,{staticClass:"mx-8 pb-2"},[s(d.Z,{staticClass:"text-center",attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField0",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[0]?null:t.displayedWords[t.words[0]+0]},on:{input:function(s){return t.updateWord(0,s)}}})],1),s(d.Z,{attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField1",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[1]?null:t.displayedWords[t.words[1]+7]},on:{input:function(s){return t.updateWord(1,s)}}})],1),s(d.Z,{attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField2",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[2]?null:t.displayedWords[t.words[2]+14]},on:{input:function(s){return t.updateWord(2,s)}}})],1),s(d.Z,{attrs:{cols:"3"}},[s(y.Z,{ref:"wordTextField3",staticClass:"large-text",attrs:{label:"",outlined:"",disabled:"",value:null===t.words[3]?null:t.displayedWords[t.words[3]+21]},on:{input:function(s){return t.updateWord(3,s)}}})],1)],1),s(p.Z,{staticClass:"pb-4",attrs:{justify:"space-around"}},[s("p",[t._v("猜測次數 : "+t._s(t.guessCount))])]),s(p.Z,{staticClass:"pb-6",attrs:{align:"center",justify:"center"}},t._l(4,(function(n){return s(d.Z,{key:"col-"+n,staticClass:"d-flex flex-column align-center py-1 col-12"},[s(a.Z,{model:{value:t.words[n-1],callback:function(s){t.$set(t.words,n-1,s)},expression:"words[colIndex - 1]"}},t._l(7,(function(o){return s(e.Z,{key:"row-"+o,attrs:{color:t.getColor(n-1,o-1),disabled:t.shouldDisable(n-1,o-1)},on:{click:function(s){return t.btn_main_click(n-1,o-1)}}},[t._v(" "+t._s(t.displayedWords[o-1+7*(n-1)])+" ")])})),1)],1)})),1),s(p.Z,{staticClass:"pt-1",attrs:{justify:"space-around"}},[s(e.Z,{on:{click:t.btn_clear}},[s(u.Z,[t._v("mdi-close-thick")]),t._v("清除 ")],1),s(e.Z,{attrs:{color:"primary"},on:{click:t.btn_check}},[s(u.Z,[t._v("mdi-check-bold")]),t._v("送出 ")],1)],1),s(f.Z,{scopedSlots:t._u([{key:"action",fn:function({attrs:n}){return[s(e.Z,t._b({attrs:{color:"pink",text:""},on:{click:function(s){t.snackbar_air=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}],null,!1,1242186539),model:{value:t.snackbar_air,callback:function(s){t.snackbar_air=s},expression:"snackbar_air"}},[t._v(" 請確保所有選項都已選擇！ ")]),s(f.Z,{scopedSlots:t._u([{key:"action",fn:function({attrs:n}){return[s(e.Z,t._b({attrs:{color:"pink",text:""},on:{click:function(s){t.snackbar_err=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}],null,!1,1975747252),model:{value:t.snackbar_err,callback:function(s){t.snackbar_err=s},expression:"snackbar_err"}},[t._v(" 答案錯誤! 再接再厲! ")]),s(c.Z,{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[s(i.Z,[s(l.ZB,[s("div",{staticClass:"py-3 teal--text text--lighten-2"},[t._v("恭喜答對")]),s("p",{staticClass:"text-h5 text--primary"},[s("b",[t._v(" "+t._s(t.correctIdiom))])]),s("div",{staticClass:"text--primary"},[t._v(" "+t._s(t.correctExplanation)+" ")])]),s(l.h7,[s(_.Z),s(e.Z,{attrs:{color:"primary",text:""},on:{click:t.func_reset}},[t._v("關閉")])],1)],1)],1)],1):t._e()]],2)},g=[],k={name:"App",data(){return{tabs:null,words:[null,null,null,null],snackbar_air:!1,snackbar_err:!1,dialog:!1,randomWords:["心","有","風","穩","四","萬","左","七","繽","海","齊","廬","無","歌","三","一","嘴","言","毛","抱","眾","千","上","掌","山","五","矢","百","斤","認","十","八","人","氣","舟","和","紅","全","弓","為","穿","楊","茅","慢","平","親","掛","六","較","逢","源","世","當","彩","減","珠","馬","日","臨","缺","楚","同","綠","兩","鋒","採","明","牛","右","雨","博","半"],displayedWords:Array(28).fill(null),word_ans:"",expl_ans:"",correctIdiom:"",correctExplanation:"",guessCount:0,num_ans:[],locked:[!1,!1,!1,!1],idioms:[],explanations:[]}},methods:{btn_main_click(t,s){console.log(`按鈕已被點擊: 行 ${s+1}, 列 ${t+1}`)},btn_check(){const t=this.words.some((t=>null==t||0==t.length));if(t)this.snackbar_air=!0;else{this.guessCount+=1,this.words.forEach(((t,s)=>{t==this.num_ans[s]&&(this.$refs[`wordTextField${s}`].value=this.word_ans[s])}));const t=this.words.every(((t,s)=>t===this.num_ans[s]));t?(console.log("所有值都正確！"),this.correctIdiom=this.word_ans,this.correctExplanation=this.expl_ans,this.dialog=!0):(this.$nextTick((()=>{this.words.forEach(((t,s)=>{t==this.num_ans[s]&&(this.locked[s]=!0)}))})),this.snackbar_err=!0,console.log("至少有一個值不正確。"))}},btn_clear(){this.words=[null,null,null,null]},func_reset(){this.dialog=!1,this.btn_clear(),this.locked=[!1,!1,!1,!1];const{idiom:t,explanation:s}=this.getRandomIdiomAndExplanation();this.word_ans=t,this.expl_ans=s,this.guessCount=0,this.updateDisplayedWords()},getColor(t,s){return this.word_ans[t]==this.displayedWords[s+7*t]&&this.locked[t]?"green":""},shouldDisable(t,s){return this.locked[t]&&this.displayedWords[s+7*t]!==this.word_ans[t]},updateWord(t,s){this.$set(this.num_ans,t,s)},updateDisplayedWords(){const t=new Set;for(let n=0;n<28;n++){let s,o=!1;do{s=Math.floor(Math.random()*this.randomWords.length),o=this.word_ans.includes(this.randomWords[s]);const n=Array.from(t).some((t=>t%7===s%7&&this.randomWords[t]===this.randomWords[s]));n||o||t.add(s)}while(t.size<=n);this.displayedWords[n]=this.randomWords[s]}const s=this.num_ans.map(((t,s)=>t+7*s));s.forEach(((t,s)=>{this.displayedWords[t]=this.word_ans[s]}))},async fetchCSV(){try{const t="https://docs.google.com/spreadsheets/d/e/2PACX-1vS1_ZcMDgBkq5ecnyYCIymKfSE2QPloXRZiHeeMauAZid0sZ64190AK0kzKys4_Sm4_llraEVMv6s8o/pub?gid=857759911&single=true&output=csv",s=await fetch(t),n=await s.text(),o=n.split("\n").slice(1),r=o.filter((t=>""!==t));r.forEach((t=>{const[s,n]=t.split(",");this.idioms.push(s),this.explanations.push(n)}))}catch(t){console.error("Error fetching data from Google Sheets CSV:",t)}},shuffleArray(t){for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}},getRandomIdiomAndExplanation(){const t=Math.floor(Math.random()*this.idioms.length),s=this.idioms[t],n=this.explanations[t],o=[];for(let r=0;r<4;r++){const t=Math.floor(7*Math.random());o.push(t)}return this.num_ans=o,this.shuffleArray(this.displayedWords),this.word_ans=s,this.expl_ans=n,this.displayedWords[this.num_ans[0]]=s[0],this.displayedWords[this.num_ans[1]+7]=s[1],this.displayedWords[this.num_ans[2]+14]=s[2],this.displayedWords[this.num_ans[3]+21]=s[3],{idiom:s,explanation:n}}},async created(){await this.fetchCSV(),this.getRandomIdiomAndExplanation(),this.updateDisplayedWords()}},w=k,Z=n(1),W=(0,Z.Z)(w,x,g,!1,null,null,null),C=W.exports,S=n(154);o.ZP.use(S.Z);var E=new S.Z({});o.ZP.config.productionTip=!1,new o.ZP({vuetify:E,render:function(t){return t(C)}}).$mount("#app")}},s={};function n(o){var r=s[o];if(void 0!==r)return r.exports;var e=s[o]={exports:{}};return t[o](e,e.exports,n),e.exports}n.m=t,function(){var t=[];n.O=function(s,o,r,e){if(!o){var a=1/0;for(c=0;c<t.length;c++){o=t[c][0],r=t[c][1],e=t[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&e||a>=e)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(i=!1,e<a&&(a=e));if(i){t.splice(c--,1);var d=r();void 0!==d&&(s=d)}}return s}e=e||0;for(var c=t.length;c>0&&t[c-1][2]>e;c--)t[c]=t[c-1];t[c]=[o,r,e]}}(),function(){n.d=function(t,s){for(var o in s)n.o(s,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:s[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(s){return 0===t[s]};var s=function(s,o){var r,e,a=o[0],i=o[1],l=o[2],d=0;if(a.some((function(s){return 0!==t[s]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var c=l(n)}for(s&&s(o);d<a.length;d++)e=a[d],n.o(t,e)&&t[e]&&t[e][0](),t[e]=0;return n.O(c)},o=self["webpackChunkmap"]=self["webpackChunkmap"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(338)}));o=n.O(o)})();
//# sourceMappingURL=app.b68d9b69.js.map